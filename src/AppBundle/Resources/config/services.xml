<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <services>

        <!--  Bucket List Service -->
        <service id="bl_service" class="AppBundle\Services\BucketListService">
            <argument type="service" id="service_container" />
            <argument type="service" id="doctrine.orm.entity_manager" />
        </service>

        <!--  Google Analytic Service -->
        <service id="google_analytic" class="AppBundle\Services\GoogleAnalyticService">
            <argument type="service" id="service_container" />
        </service>

        <!--  User Notify Service -->
        <service id="user_notify" class="AppBundle\Services\UserNotifyService">
            <argument type="service" id="router" />
            <argument type="service" id="translator.default" />
            <argument type="service" id="mailer" />
            <argument>%kernel.debug%</argument>
            <argument>%no_reply%</argument>
            <argument>%user_notify%</argument>
        </service>

        <service id="bl.location.type" class="AppBundle\Form\Type\LocationType">
            <tag name="form.type" alias="bl_location" />
        </service>

        <service id="bl.multiple.file" class="AppBundle\Form\Type\BlMultipleFileType">
            <tag name="form.type" alias="bl_multiple_file" />
        </service>

        <service id="bl.multiple.video" class="AppBundle\Form\Type\BlMultipleVideoType">
            <tag name="form.type" alias="bl_multiple_video" />
        </service>

         <!--service for twig extension replace in string -->
        <service id="bl.oll.in" class="AppBundle\Twig\Extension\OllTwigExtension">
            <argument type="service" id="service_container" />
            <tag name="twig.extension"/>
        </service>

        <!-- service doctrine listener -->
        <service id="bl.doctrine.listener" class="AppBundle\Listener\DoctrineListener">
            <argument type="service" id="service_container" />
            <tag name="doctrine.event_listener" event = "onFlush"/>
            <tag name="doctrine.event_listener" event = "postLoad" method="postLoad"/>
        </service>


        <!-- service locale listener -->
        <service id="bl.locale.listener" class="AppBundle\Listener\LocaleListener">
            <argument>%kernel.default_locale%</argument>
            <argument type="service" id="service_container" />
            <tag name="kernel.event_listener" event="kernel.request" method="onKernelRequest"/>
        </service>


        <service id="bl.settings.listener.resolver" class="AppBundle\Listener\MyEntityListenerResolver">
            <argument type="service" id="service_container" />
        </service>

        <!-- NewsFeed service -->
        <service id="bl_news_feed_service" class="AppBundle\Services\NewsFeedService">
            <argument type="service" id="service_container" />
        </service>

        <!-- RandomId service -->
        <service id="bl_random_id_service" class="AppBundle\Services\RandomIdService">
            <argument type="service" id="service_container" />
        </service>

        <!-- PutNotification service -->
        <service id="bl_put_notification_service" class="AppBundle\Services\PutNotificationService">
            <argument type="service" id="service_container" />
        </service>

        <!--  form for languages -->
        <service id="app.form.lng" class="AppBundle\Form\Type\LngType">
            <tag name="form.type" alias="lng" />
            <argument type="service" id="service_container" />
        </service>

        <!-- custom liip filter-->
        <service id="app.filter.central_crop" class="AppBundle\LiipFilters\CentralCropFilterLoader">
            <tag name="liip_imagine.filter.loader" loader="central_crop" />
        </service>

        <!-- mail Chimp service -->
        <service id="bl_mail_chimp_service" class="AppBundle\Services\MailChimpService">
            <argument type="service" id="service_container" />
            <argument>%mail_chimp_api_key%</argument>
        </service>

        <!-- mandrill service -->
        <service id="bl_mandrill_service" class="AppBundle\Services\MandrillService">
            <argument type="service" id="service_container" />
        </service>

    </services>

</container>
