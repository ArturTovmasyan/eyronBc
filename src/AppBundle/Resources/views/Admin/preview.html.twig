{% extends '::amp.html.twig' %}

{#{% use 'SonataAdminBundle:CRUD:base_edit_form.html.twig' with form as parentForm %}#}
{#{% import 'SonataAdminBundle:CRUD:base_edit_form_macro.html.twig' as form_helper %}#}

{% block content %}

    {% set blog = object %}
    {% set blogData = blog.data %}

    <div class="header">
        <h1 class="text-white">{{ blog.title }}</h1>
        <figure>
            <span class="overlay"></span>
            <amp-img src="{{ blog.imagePath|blImageFilter('user_cover') }}"  layout="responsive"  width="100"
                     height="853"></amp-img>
        </figure>
    </div>

    <div class="bg-white content-inner">
        <figure class="goal-cover">
            <amp-img src="{{ blog.imagePath|blImageFilter('goal_bg') }}"  layout="responsive"  width="1280" height="853"></amp-img>
        </figure>

        {% for data in blogData %}

            {% if data.type == 'text' %}

                <p>{{ data.content }}</p>

            {% elseif data.type == 'goal' %}

                {% set goal = data.goals %}

                <div class="goals-information">
                    <figure>
                        <a href="{{ path('inner_goal', {'slug' : goal.slug}) }}" target="_blank">
                            <amp-img src="{{ goal.imagePath|blImageFilter('goal_list_small') }}"
                                     layout="responsive"
                                     width="1280"
                                     height="853">
                            </amp-img>
                        </a>
                    </figure>

                    <div>
                        <h3 class="text-blue">{{ goal.title }}</h3>
                        <h4 class="text-blue">sub title</h4>
                        {% if goal.description %}
                            <p class="text-blue">{{ goal.description|markdown|striptags|sliceString }}</p>
                        {% endif %}
                    </div>
                </div>

            {% endif %}
        {% endfor %}
    </div>

    {# todo see also for GEvorg#}

{% endblock %}
