{% if user is defined %}
    {#{% set goalFriends = goalFriends(user) %}{{ dump(goalFriends) }}#}
    <div data-ng-controller="goalFriends">
        <div class="bg-white padding round margin-top"
             data-ng-cloak
             data-infinite-scroll="getGaolFriends('{{ user.id }}')"
             data-infinite-scroll-disabled=' disableScroll '
             data-infinite-scroll-distance='2'>

            <a href="{{ path('goal_friends') }}" class="heading text-gray">
                <i class="icon-goalfrined-icon"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></i>
                <span class="text">{{ 'goalfriends'|trans }} [[ length ]]</span>
            </a>

            <hr/>

            <ul class="list">

                {#{% for goalFriend in goalFriends|slice(0,2) %}#}
                    <li class="clearfix"
                        data-ng-cloak
                        data-ng-repeat="goalFriend in goalFriends">
                        <a href="[[ prefix ]]profile/[[ goalFriend.u_id ]]/all">

                            <figure class="image">
                                {#{% if goalStatus == false %}#}
                                    {#<i class="icon-lock-white"></i>#}
                                {#{% endif %}#}
                                {#{% if goalFriend.getPhotoLink() %}#}
                                    {#<img src="[[ goalFriend.image_path|blImageFilter('user_icon') }}" alt="[[ goalFriend.first_name ]]" class="img-circle img-responsive"/>#}
                                {#{% else %}#}
                                    {#{% set nameOnImage = goalFriend.first_name|slice(0,1) ~ goalFriend.last_name|slice(0,1) %}#}
                                    {#{% set className = "user-no" ~ random(4) %}#}
                                    {#<p class="no-image {{ className }}">{{ nameOnImage | upper }}</p>#}
                                {#{% endif %}#}
                            </figure>

                            <div class="pull-left text-gray" data-ng-init="stats = goalFriend.stats">
                                <h4 class="text-dark-gray">[[ goalFriend.first_name ]] [[ goalFriend.last_name ]]</h4>

                                {#{% set stats = goalFriend.getStats %}#}
                                <span class="text-gray">{{ 'listed_by'|trans }} [[ stats.listedBy ]]</span> |
                                <span class="text-gray">{{ 'completed'|trans }} [[ stats.doneBy ]]</span>
                            </div>
                        </a>
                    </li>
                {#{% endfor %}#}

            </ul>
        </div>
    </div>
{% endif %}