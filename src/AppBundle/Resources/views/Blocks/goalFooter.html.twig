{# If goal exists, uses that, if not, then will use the goal parents scopes goal #}
{% if app.user.id is defined %}
    {% set userId = app.user.id %}
{% else %}
    {% set userId = 0 %}
{% endif %}
<ul data-ng-controller="goalFooter" class="row no-gutter{% if inner is defined %} goal-links{% endif %}"
    {% if goal is defined and goalInner is not defined %} data-ng-init="completed=true;goal.is_my_goal={{ goal.isMyGoal|default(0) }};goal.id={{ goal.id }}" {% endif %} data-ng-cloak>

    <li class="col-xs-6" ng-class="{transparent: (goal.is_my_goal && goal.is_my_goal !== 0) || !completed}">
        <a href="javascript:void(0)"
           data-ng-show="!goal.is_my_goal && completed"
           data-ls-jquery-modal
           data-ng-click="goal.is_my_goal = 1; refreshCache('{{ userId }}', goal.id){% if isMobile() and not app.user%}; popoverByMobile(){% endif %}"
           data-ls-identity="idea[[ ::goal.id ]]"
           data-ls-template-url="{{ env_prefix }}/goal/add-to-me/[[ ::goal.id ]]"
           class="ng-hide">
            <i class="icon-plus-icon"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i>
            <span class="text">{{ 'add'|trans | capitalize}}</span>
        </a>

        <span  class="ng-hide" data-ng-show="(goal.is_my_goal && goal.is_my_goal !== 0) || !completed">
            <i class="icon-green-plus"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></i>
            <span class="text">{{ 'added'|trans | capitalize}}</span>
        </span>

    </li>
    
    <li class="col-xs-6" ng-class="{transparent: (goal.is_my_goal && goal.is_my_goal === 2 )|| !completed}">
        <span class="ng-hide" data-ng-show="goal.is_my_goal !== 2 && completed">
             <a {% if app.user %}href="javascript:void(0)" data-ng-click="addDone('{{ env_prefix }}/goal/done/'+goal.id + '?ajax=true', 'addSuccesstory'+goal.id); refreshCache('{{ app.user.id }}', goal.id)"
                {% elseif isMobile() %}href="javascript:void(0)" data-ng-click="popoverByMobile(); addDone('{{ env_prefix }}/goal/done/'+goal.id)" {% else %}data-ng-href="{{ env_prefix }}/goal/done/[[ ::goal.id ]]"{% endif %}>

                 <i class="icon-ok-icon"><span class="path1"></span><span class="path2"></span></i>
                 <span class="text">{{ 'done'|trans | capitalize}}</span>
             </a>
            <a  href="javascript:void(0)"
                data-ng-show="false"
                data-ls-jquery-modal
                data-ls-template-url="{{ env_prefix }}/goal/add-story/[[ ::goal.id ]]"
                data-ls-identity="goalAddSuccessStoryModal[[ ::goal.id ]]"
                id="addSuccesstory[[ ::goal.id ]]">
            </a>
        </span>

        <span class="ng-hide" data-ng-show="(goal.is_my_goal && goal.is_my_goal === 2 )|| !completed">
             <i class="icon-green-ok"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i>
            <span class="text">{{ 'completed'|trans | capitalize}}</span>
        </span>
    </li>
</ul>
